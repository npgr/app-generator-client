function baseIntersection(r,a,e){for(var n=e?arrayIncludesWith:arrayIncludes,c=r.length,s=c,u=Array(c),t=[];s--;){var i=r[s];s&&a&&(i=arrayMap(i,baseUnary(a))),u[s]=!e&&(a||i.length>=120)?new SetCache(s&&i):void 0}i=r[0];var h=-1,y=i.length,l=u[0];r:for(;++h<y;){var o=i[h],d=a?a(o):o;if(!(l?cacheHas(l,d):n(t,d,e))){for(var s=c;--s;){var v=u[s];if(!(v?cacheHas(v,d):n(r[s],d,e)))continue r}l&&l.push(d),t.push(o)}}return t}var SetCache=require("./SetCache"),arrayIncludes=require("./arrayIncludes"),arrayIncludesWith=require("./arrayIncludesWith"),arrayMap=require("./arrayMap"),baseUnary=require("./baseUnary"),cacheHas=require("./cacheHas");module.exports=baseIntersection;