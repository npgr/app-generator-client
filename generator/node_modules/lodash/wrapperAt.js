var LazyWrapper=require("./internal/LazyWrapper"),LodashWrapper=require("./internal/LodashWrapper"),baseAt=require("./internal/baseAt"),baseFlatten=require("./internal/baseFlatten"),isIndex=require("./internal/isIndex"),rest=require("./rest"),thru=require("./thru"),wrapperAt=rest(function(r){r=baseFlatten(r);var e=r.length,t=e?r[0]:0,a=this.__wrapped__,n=function(e){return baseAt(e,r)};return!(e>1||this.__actions__.length)&&a instanceof LazyWrapper&&isIndex(t)?(a=a.slice(t,+t+(e?1:0)),a.__actions__.push({func:thru,args:[n],thisArg:void 0}),new LodashWrapper(a,this.__chain__).thru(function(r){return e&&!r.length&&r.push(void 0),r})):this.thru(n)});module.exports=wrapperAt;