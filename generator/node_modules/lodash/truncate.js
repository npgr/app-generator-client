function truncate(e,r){var i=DEFAULT_TRUNC_LENGTH,t=DEFAULT_TRUNC_OMISSION;if(isObject(r)){var n="separator"in r?r.separator:n;i="length"in r?toInteger(r.length):i,t="omission"in r?toString(r.omission):t}e=toString(e);var s=e.length;if(reHasComplexSymbol.test(e)){var a=stringToArray(e);s=a.length}if(i>=s)return e;var g=i-stringSize(t);if(1>g)return t;var o=a?a.slice(0,g).join(""):e.slice(0,g);if(void 0===n)return o+t;if(a&&(g+=o.length-g),isRegExp(n)){if(e.slice(g).search(n)){var l,u=o;for(n.global||(n=RegExp(n.source,toString(reFlags.exec(n))+"g")),n.lastIndex=0;l=n.exec(u);)var f=l.index;o=o.slice(0,void 0===f?g:f)}}else if(e.indexOf(n,g)!=g){var c=o.lastIndexOf(n);c>-1&&(o=o.slice(0,c))}return o+t}var isObject=require("./isObject"),isRegExp=require("./isRegExp"),stringSize=require("./internal/stringSize"),stringToArray=require("./internal/stringToArray"),toInteger=require("./toInteger"),toString=require("./toString"),DEFAULT_TRUNC_LENGTH=30,DEFAULT_TRUNC_OMISSION="...",reFlags=/\w*$/,rsAstralRange="\\ud800-\\udfff",rsComboRange="\\u0300-\\u036f\\ufe20-\\ufe23",rsVarRange="\\ufe0e\\ufe0f",rsZWJ="\\u200d",reHasComplexSymbol=RegExp("["+rsZWJ+rsAstralRange+rsComboRange+rsVarRange+"]");module.exports=truncate;